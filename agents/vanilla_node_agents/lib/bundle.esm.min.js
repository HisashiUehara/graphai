import a,{assert as e}from"graphai";import t from"fs";var r,s={};var n=(r||(r=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.arrayValidate=e.isNamedInputs=e.sample2GraphData=void 0;const t=a;e.sample2GraphData=(a,e)=>{const t={},r=Array.isArray(a.inputs)?(Array.from(a.inputs.keys()).forEach((e=>{t["sampleInput"+e]={value:a.inputs[e]}})),Object.keys(t).map((a=>":"+a))):(t.sampleInput={value:a.inputs},Object.keys(a.inputs).reduce(((a,e)=>(a[e]=":sampleInput."+e,a)),{}));return t.node={isResult:!0,agent:e,params:a.params,inputs:r,graph:a.graph},{version:.5,nodes:t}},e.isNamedInputs=a=>Object.keys(a||{}).length>0,e.arrayValidate=(a,r,s="")=>{(0,t.assert)((0,e.isNamedInputs)(r),`${a}: namedInputs is UNDEFINED!`+s),(0,t.assert)(!!r.array,`${a}: namedInputs.array is UNDEFINED!`+s),(0,t.assert)(Array.isArray(r.array),`${a}: namedInputs.array is not Array.`+s)}}(s)),s);const p=async({namedInputs:a,params:r})=>{const{basePath:s,outputType:p}=r;n.arrayValidate("fileReadAgent",a),e(!!s,"fileReadAgent: params.basePath is UNDEFINED!");return{array:a.array.map((a=>{const e=s+a,r=t.readFileSync(e);return p&&"base64"===p?r.toString("base64"):p&&"text"===p?(new TextDecoder).decode(r):r}))}},i={name:"fileReadAgent",agent:p,mock:p,inputs:{type:"object",properties:{array:{type:"array",description:"file names"}},required:["array"]},output:{type:"object"},samples:[{inputs:{array:["test.txt"]},params:{basePath:__dirname+"/../../tests/files/"},result:{array:[Buffer.from([104,101,108,108,111,10])]}},{inputs:{array:["test.txt"]},params:{basePath:__dirname+"/../../tests/files/",outputType:"base64"},result:{array:["aGVsbG8K"]}},{inputs:{array:["test.txt"]},params:{basePath:__dirname+"/../../tests/files/",outputType:"text"},result:{array:["hello\n"]}}],description:"Read data from file system and returns data",category:["fs"],author:"Receptron team",repository:"https://github.com/snakajima/graphai",license:"MIT"};export{i as fileReadAgent};
//# sourceMappingURL=bundle.esm.min.js.map
